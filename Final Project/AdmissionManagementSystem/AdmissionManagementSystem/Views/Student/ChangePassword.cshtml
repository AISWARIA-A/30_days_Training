@model AdmissionManagementSystem.Models.ChangePassword

@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/StudentLayout.cshtml";
}

@if (Session["Username"] != null)
{
    <head>
        <title>Change password</title>
        <link href="~/Content/CSS/StudentSignup.css" rel="stylesheet" />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </head>

    <div>
       @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            <h2>Change password</h2>
            <hr/>
            <div class="form-group">
                @Html.LabelFor(model => model.OldPassword, htmlAttributes: new { @class = "control-label col-md-5" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.OldPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter old passwod", @id = "username", @onfocusout = "Checkusername()" } })
                    <small></small>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.NewPassword, htmlAttributes: new { @class = "control-label col-md-5" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.NewPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter new password", @id = "password", @onfocusout = "Checkpassword()" } })
                    <small></small>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.ConfirmPassword, htmlAttributes: new { @class = "control-label col-md-5" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.ConfirmPassword, new { htmlAttributes = new { @class = "form-control", @placeholder = "Confirm new password", @id = "confirmpassword", @onfocusout = "Checkconfirmpassword()" } })
                    <small></small>
                </div>
            </div>


            <div class="form-group">
                <div class="col-md-offset-2 col-md-10 btn">
                    <input type="submit" value="Change password" class="btn btn-default" />
                </div>
            </div>
        }
    </div>
    <script src="~/Content/JS/StudentSignin.js"></script>
    <script>
        function showAlert(message) {
            alert(message);
        }
    </script>
    if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
    {
        <script>
       $(document).ready(function () {
           showAlert('@ViewBag.ErrorMessage');
       });
        </script>
    }

}
else
{
    Layout = null;
    <p>Session expired</p>
}

